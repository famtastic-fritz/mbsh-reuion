<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBSH Class of '96 - 30th Reunion</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
            color: #333;
        }

        .wave-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"><path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" fill="%23ffffff"></path></svg>') repeat-x;
            animation: wave 10s linear infinite;
        }

        @keyframes wave {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .header-banner {
            background: linear-gradient(90deg, #dc143c 0%, #ff4444 50%, #dc143c 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }

        .floating-emoji {
            position: absolute;
            font-size: 40px;
            animation: float 4s ease-in-out infinite;
            opacity: 0.2;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        .emoji-1 { left: 5%; top: 20%; animation-delay: 0s; }
        .emoji-2 { left: 15%; top: 60%; animation-delay: 1s; }
        .emoji-3 { right: 10%; top: 30%; animation-delay: 2s; }
        .emoji-4 { right: 20%; top: 70%; animation-delay: 1.5s; }

        h1 {
            font-size: 3.5em;
            text-shadow: 4px 4px 8px rgba(0,0,0,0.4);
            margin-bottom: 10px;
            letter-spacing: 3px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 4px 4px 8px rgba(0,0,0,0.4), 0 0 10px rgba(255,255,255,0.3); }
            to { text-shadow: 4px 4px 8px rgba(0,0,0,0.4), 0 0 20px rgba(255,255,255,0.5); }
        }

        .tagline {
            font-size: 1.5em;
            font-style: italic;
            margin-top: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hi-tides {
            font-size: 2.5em;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            margin: 15px 0;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .class-year {
            font-size: 1.5em;
            background: white;
            color: #dc143c;
            padding: 12px 35px;
            display: inline-block;
            border-radius: 50px;
            margin-top: 10px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .countdown-container {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            backdrop-filter: blur(10px);
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .countdown-item {
            background: white;
            color: #dc143c;
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            min-width: 80px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .countdown-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
        }

        .countdown-label {
            font-size: 0.9em;
            margin-top: 5px;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            padding: 0 20px;
        }

        .nav-tab {
            background: white;
            color: #dc143c;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .nav-tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #dc143c 0%, #ff4444 100%);
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            border: 3px solid #dc143c;
        }

        .card h2 {
            color: #dc143c;
            border-bottom: 3px solid #dc143c;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .event-details {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #dc143c;
        }

        .event-details h3 {
            color: #dc143c;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .event-details p {
            margin: 10px 0;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-box {
            background: linear-gradient(135deg, #dc143c 0%, #ff4444 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .stat-box:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 3em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .stat-label {
            font-size: 1.2em;
            margin-top: 10px;
            position: relative;
            z-index: 1;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 5px solid #dc143c;
            transition: transform 0.3s ease;
        }

        .timeline-item:hover {
            transform: translateX(10px);
        }

        .timeline-year {
            font-size: 1.5em;
            font-weight: bold;
            color: #dc143c;
            margin-bottom: 10px;
        }

        .timeline-content {
            font-size: 1.1em;
            line-height: 1.6;
        }

        .poll-container {
            margin: 20px 0;
        }

        .poll-option {
            background: #f9f9f9;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .poll-option:hover {
            border-color: #dc143c;
            transform: translateX(5px);
        }

        .poll-option.voted {
            border-color: #dc143c;
        }

        .poll-bar {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: linear-gradient(90deg, rgba(220,20,60,0.2) 0%, rgba(220,20,60,0.1) 100%);
            transition: width 0.5s ease;
            z-index: 0;
        }

        .poll-content {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .poll-text {
            font-weight: bold;
            color: #333;
        }

        .poll-votes {
            color: #dc143c;
            font-weight: bold;
        }

        .memory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .memory-card {
            background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #dc143c;
            transition: transform 0.3s ease;
        }

        .memory-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .memory-author {
            font-weight: bold;
            color: #dc143c;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .memory-text {
            color: #555;
            line-height: 1.6;
            font-style: italic;
        }

        .memory-date {
            font-size: 0.85em;
            color: #999;
            margin-top: 10px;
        }

        .search-box {
            position: relative;
            margin: 20px 0;
        }

        .search-box input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 3px solid #dc143c;
            border-radius: 50px;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(220,20,60,0.3);
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #dc143c;
            font-size: 1.3em;
        }

        .classmate-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .classmate-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 2px solid #f0f0f0;
            transition: all 0.3s ease;
            text-align: center;
        }

        .classmate-card:hover {
            border-color: #dc143c;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        .classmate-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #dc143c;
            margin-bottom: 10px;
        }

        .classmate-info {
            color: #666;
            font-size: 0.95em;
            margin: 5px 0;
        }

        .form-group {
            margin: 20px 0;
        }

        .form-group label {
            display: block;
            color: #dc143c;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #dc143c;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #ff4444;
            box-shadow: 0 0 10px rgba(220, 20, 60, 0.3);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
            transform: scale(1.5);
            cursor: pointer;
        }

        .submit-btn {
            background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(0,0,0,0.4);
            background: linear-gradient(135deg, #ff4444 0%, #dc143c 100%);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .success-message {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
            text-align: center;
            font-size: 1.2em;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .error-message {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
            text-align: center;
            font-size: 1.2em;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #dc143c;
            position: fixed;
            top: -10px;
            z-index: 9999;
            animation: confetti-fall 3s linear forwards;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .attendee-list {
            margin-top: 30px;
        }

        .attendee-item {
            background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #dc143c;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .attendee-item:hover {
            transform: translateX(5px);
        }

        .attendee-item strong {
            color: #dc143c;
            font-size: 1.1em;
        }

        .retro-box {
            background: #000;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            padding: 20px;
            border: 3px solid #00ff00;
            border-radius: 5px;
            margin: 20px 0;
            box-shadow: 0 0 20px rgba(0,255,0,0.3);
        }

        .retro-text {
            font-size: 1.1em;
            line-height: 1.8;
        }

        .retro-text::before {
            content: '> ';
            color: #00ff00;
        }

        .payment-section {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            border: 3px solid #dc143c;
            text-align: center;
        }

        .payment-section h3 {
            color: #dc143c;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .payment-options {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .payment-option {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            min-width: 250px;
            transition: transform 0.3s ease;
        }

        .payment-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .price {
            font-size: 2.5em;
            color: #dc143c;
            font-weight: bold;
            margin: 15px 0;
        }

        .price-label {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 10px;
        }

        .price-details {
            font-size: 0.9em;
            color: #999;
            margin-top: 10px;
        }

        .paypal-button-container {
            margin: 20px 0;
        }

        footer {
            background: linear-gradient(135deg, #8b0000 0%, #5a0000 100%);
            color: white;
            text-align: center;
            padding: 30px 20px;
            margin-top: 40px;
        }

        .footer-links {
            margin: 15px 0;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: #ff4444;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }

            .tagline {
                font-size: 1.2em;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .nav-tab {
                width: 100%;
            }

            .countdown {
                gap: 10px;
            }

            .countdown-item {
                min-width: 60px;
                padding: 10px 15px;
            }

            .countdown-number {
                font-size: 1.8em;
            }

            .payment-options {
                flex-direction: column;
                align-items: center;
            }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .info-box {
            background: #e3f2fd;
            border-left: 5px solid #2196F3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box strong {
            color: #1976D2;
        }
    </style>
</head>
<body>
    <div class="wave-bg">
        <div class="wave"></div>
    </div>

    <div class="header-banner">
        <div class="floating-emoji emoji-1">üéì</div>
        <div class="floating-emoji emoji-2">üéâ</div>
        <div class="floating-emoji emoji-3">üìº</div>
        <div class="floating-emoji emoji-4">üíø</div>
        
        <h1>Miami Beach Senior High</h1>
        <div class="hi-tides">üåä HI-TIDES üåä</div>
        <div class="class-year">CLASS OF 1996</div>
        <div class="tagline">30th Reunion - Let us be known for our deeds!</div>
        
        <div class="countdown-container">
            <h3 style="margin-bottom: 15px;">Countdown to Reunion</h3>
            <div class="countdown" id="countdown">
                <div class="countdown-item">
                    <span class="countdown-number" id="days">000</span>
                    <span class="countdown-label">Days</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="hours">00</span>
                    <span class="countdown-label">Hours</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="minutes">00</span>
                    <span class="countdown-label">Minutes</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="seconds">00</span>
                    <span class="countdown-label">Seconds</span>
                </div>
            </div>
        </div>
    </div>

    <div class="nav-tabs">
        <button class="nav-tab active" onclick="showTab('home')">
            <i class="fas fa-home"></i> Home
        </button>
        <button class="nav-tab" onclick="showTab('rsvp')">
            <i class="fas fa-envelope"></i> RSVP
        </button>
        <button class="nav-tab" onclick="showTab('tickets')">
            <i class="fas fa-ticket-alt"></i> Tickets
        </button>
        <button class="nav-tab" onclick="showTab('memories')">
            <i class="fas fa-heart"></i> Memory Wall
        </button>
        <button class="nav-tab" onclick="showTab('classmates')">
            <i class="fas fa-users"></i> Find Classmates
        </button>
        <button class="nav-tab" onclick="showTab('polls')">
            <i class="fas fa-poll"></i> Polls
        </button>
        <button class="nav-tab" onclick="showTab('nostalgia')">
            <i class="fas fa-clock"></i> Nostalgia
        </button>
    </div>

    <div class="container">
        <!-- HOME TAB -->
        <div id="home-tab" class="tab-content active">
            <div class="card">
                <h2><i class="fas fa-info-circle"></i> Reunion Details</h2>
                <div class="event-details">
                    <h3>Save the Date!</h3>
                    <p><strong>üìç Location:</strong> TBA (Vote in the Polls tab!)</p>
                    <p><strong>üìÖ Date:</strong> Saturday, July 12, 2026</p>
                    <p><strong>‚è∞ Time:</strong> 7:00 PM - Midnight</p>
                    <p><strong>üí∞ Cost:</strong> $60 Early Bird (until Feb 1) / $75 Regular</p>
                    <p><strong>üéµ Music:</strong> DJ spinning the best of '96!</p>
                    <p><strong>üçΩÔ∏è Dinner:</strong> Buffet with vegetarian options</p>
                </div>

                <div class="retro-box">
                    <div class="retro-text">LOADING MEMORIES FROM 1996...</div>
                    <div class="retro-text">‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%</div>
                    <div class="retro-text">SYSTEM READY</div>
                    <div class="retro-text" style="margin-top: 15px;">
                        ‚úì Dial-up Internet<br>
                        ‚úì Pagers & Flip Phones<br>
                        ‚úì "Macarena" & "Wannabe"<br>
                        ‚úì Independence Day in theaters<br>
                        ‚úì Space Jam & Jerry Maguire<br>
                        ‚úì Nintendo 64 released<br>
                        ‚úì Tickle Me Elmo craze<br>
                        ‚úì Tamagotchi pets<br>
                        ‚úì Hi-Tide Pride Forever! üåä
                    </div>
                </div>
            </div>

            <div class="card">
                <h2><i class="fas fa-chart-bar"></i> Reunion Stats</h2>
                <div class="stats">
                    <div class="stat-box">
                        <div class="stat-number" id="attendeeCount">0</div>
                        <div class="stat-label">RSVPs</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">30</div>
                        <div class="stat-label">Years Later</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="guestCount">0</div>
                        <div class="stat-label">Total Guests</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="memoryCount">0</div>
                        <div class="stat-label">Memories Shared</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2><i class="fas fa-users"></i> Who's Coming?</h2>
                <div id="attendeeList" class="attendee-list">
                    <p style="text-align: center; color: #999; font-style: italic;">
                        Loading attendees...
                    </p>
                </div>
            </div>

            <div class="card">
                <h2><i class="fas fa-phone"></i> Questions?</h2>
                <div class="event-details">
                    <p><strong>Reunion Committee:</strong></p>
                    <p><i class="fas fa-envelope"></i> Email: mbsh96reunion@gmail.com</p>
                    <p><i class="fas fa-phone"></i> Phone: (305) 555-TIDE</p>
                    <p style="margin-top: 20px; font-style: italic;">
                        <i class="fas fa-share-alt"></i> Can't find someone? Help us spread the word! Share this page with your fellow Hi-Tides from '96!
                    </p>
                </div>
            </div>
        </div>

        <!-- RSVP TAB -->
        <div id="rsvp-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-envelope-open-text"></i> RSVP Now!</h2>
                
                <div class="info-box">
                    <strong>üìù Note:</strong> RSVP is free and does not require payment. After you RSVP "Yes", you can purchase tickets in the Tickets tab.
                </div>

                <form id="rsvpForm">
                    <div class="form-group">
                        <label for="firstName"><i class="fas fa-user"></i> First Name *</label>
                        <input type="text" id="firstName" required>
                    </div>

                    <div class="form-group">
                        <label for="lastName"><i class="fas fa-user"></i> Last Name (Maiden Name if applicable) *</label>
                        <input type="text" id="lastName" required>
                    </div>

                    <div class="form-group">
                        <label for="email"><i class="fas fa-at"></i> Email Address *</label>
                        <input type="email" id="email" required>
                    </div>

                    <div class="form-group">
                        <label for="phone"><i class="fas fa-phone"></i> Phone Number</label>
                        <input type="tel" id="phone" placeholder="(305) 555-1234">
                    </div>

                    <div class="form-group">
                        <label for="currentCity"><i class="fas fa-map-marker-alt"></i> Current City/State</label>
                        <input type="text" id="currentCity" placeholder="Where are you now?">
                    </div>

                    <div class="form-group">
                        <label for="profession"><i class="fas fa-briefcase"></i> Current Profession</label>
                        <input type="text" id="profession" placeholder="What do you do?">
                    </div>

                    <div class="form-group">
                        <label for="attending"><i class="fas fa-calendar-check"></i> Will you attend? *</label>
                        <select id="attending" required>
                            <option value="">-- Select --</option>
                            <option value="yes">Yes! Can't wait! üéâ</option>
                            <option value="maybe">Maybe - Keep me posted</option>
                            <option value="no">Sorry, can't make it üò¢</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="guests"><i class="fas fa-user-friends"></i> Number of Guests (including yourself)</label>
                        <select id="guests">
                            <option value="1">Just me</option>
                            <option value="2">Me + 1 guest</option>
                            <option value="3">Me + 2 guests</option>
                            <option value="4">Me + 3 guests</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="guestNames"><i class="fas fa-users"></i> Guest Name(s)</label>
                        <input type="text" id="guestNames" placeholder="Spouse/Guest names">
                    </div>

                    <div class="form-group">
                        <label for="dietary"><i class="fas fa-utensils"></i> Dietary Restrictions/Preferences</label>
                        <textarea id="dietary" rows="3" placeholder="Vegetarian, allergies, etc."></textarea>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="volunteer">
                        <label for="volunteer">I'd love to help with planning!</label>
                    </div>

                    <div class="form-group">
                        <label for="comments"><i class="fas fa-comment"></i> Messages or Venue Suggestions</label>
                        <textarea id="comments" rows="4" placeholder="Share your thoughts or venue ideas!"></textarea>
                    </div>

                    <button type="submit" class="submit-btn" id="rsvpSubmitBtn">
                        <i class="fas fa-paper-plane"></i> Submit RSVP üåä
                    </button>
                </form>

                <div class="success-message" id="successMessage">
                    <i class="fas fa-check-circle"></i> üéâ Thanks for your RSVP! We'll be in touch with more details soon. Go Hi-Tides!
                </div>

                <div class="error-message" id="errorMessage">
                    <i class="fas fa-exclamation-circle"></i> Oops! Something went wrong. Please try again or email us directly.
                </div>
            </div>
        </div>

        <!-- TICKETS TAB -->
        <div id="tickets-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-ticket-alt"></i> Purchase Tickets</h2>

                <div class="payment-section">
                    <h3>üé´ Reunion Tickets</h3>
                    <p style="font-size: 1.2em; margin-bottom: 30px;">
                        Includes dinner, drinks, DJ, and an unforgettable night with your classmates!
                    </p>

                    <div class="payment-options">
                        <div class="payment-option">
                            <div class="price-label">üåü Early Bird</div>
                            <div class="price">$60</div>
                            <div class="price-details">Per person ‚Ä¢ Until Feb 1, 2026</div>
                        </div>
                        <div class="payment-option">
                            <div class="price-label">üéâ Regular Price</div>
                            <div class="price">$75</div>
                            <div class="price-details">Per person ‚Ä¢ After Feb 1, 2026</div>
                        </div>
                    </div>

                    <div class="info-box" style="text-align: left; max-width: 600px; margin: 30px auto;">
                        <strong>üìã Before purchasing tickets:</strong><br>
                        1. Make sure you've submitted your RSVP<br>
                        2. Purchase tickets for yourself and any guests<br>
                        3. You'll receive a confirmation email immediately<br>
                        4. Tickets are transferable but non-refundable
                    </div>

                    <!-- PLACEHOLDER FOR PAYPAL BUTTON -->
                    <div class="paypal-button-container" id="paypalButtonContainer">
                        <div style="background: #fff; padding: 30px; border-radius: 15px; border: 3px dashed #dc143c;">
                            <p style="color: #dc143c; font-size: 1.3em; margin-bottom: 20px;">
                                <i class="fas fa-tools"></i> <strong>Committee Setup Required</strong>
                            </p>
                            <p style="color: #666; line-height: 1.8;">
                                The PayPal payment button will be activated once the committee sets up the PayPal business account.
                            </p>
                            <p style="color: #666; margin-top: 15px; font-size: 0.95em;">
                                <strong>For now, you can RSVP for free.</strong><br>
                                Payment instructions will be sent via email once the ticketing system is live.
                            </p>
                        </div>
                    </div>

                    <p style="margin-top: 30px; font-size: 0.9em; color: #666;">
                        Questions about tickets? Email: mbsh96reunion@gmail.com
                    </p>
                </div>
            </div>
        </div>

        <!-- MEMORY WALL TAB -->
        <div id="memories-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-heart"></i> Memory Wall</h2>
                <p style="margin-bottom: 20px; font-size: 1.1em;">Share your favorite memories from our time at Miami Beach Senior High!</p>
                
                <form id="memoryForm">
                    <div class="form-group">
                        <label for="memoryName"><i class="fas fa-user"></i> Your Name *</label>
                        <input type="text" id="memoryName" required>
                    </div>

                    <div class="form-group">
                        <label for="memoryText"><i class="fas fa-pen"></i> Your Memory *</label>
                        <textarea id="memoryText" rows="4" placeholder="Tell us about a favorite moment, funny story, or cherished memory..." required></textarea>
                    </div>

                    <button type="submit" class="submit-btn" id="memorySubmitBtn">
                        <i class="fas fa-plus-circle"></i> Share Memory
                    </button>
                </form>

                <div class="memory-grid" id="memoryGrid">
                    <div class="memory-card">
                        <div class="memory-author">
                            <i class="fas fa-user-circle"></i>
                            <span>Loading memories...</span>
                        </div>
                        <div class="memory-text">
                            Memories will appear here once shared by classmates.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CLASSMATES TAB -->
        <div id="classmates-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-search"></i> Find Your Classmates</h2>
                <div class="search-box">
                    <input type="text" id="classmateSearch" placeholder="Search by name, profession, or location..." onkeyup="filterClassmates()">
                    <i class="fas fa-search search-icon"></i>
                </div>

                <div class="classmate-grid" id="classmateGrid">
                    <p style="text-align: center; color: #999; font-style: italic; grid-column: 1/-1;">
                        Loading classmates...
                    </p>
                </div>
            </div>
        </div>

        <!-- POLLS TAB -->
        <div id="polls-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-poll"></i> Vote on Reunion Details!</h2>
                
                <h3 style="color: #dc143c; margin: 30px 0 15px 0;"><i class="fas fa-map-marker-alt"></i> Venue Preference</h3>
                <div class="poll-container" id="poll-venue">
                    <div class="poll-option" onclick="vote('venue', 0)">
                        <div class="poll-bar" style="width: 0%"></div>
                        <div class="poll-content">
                            <span class="poll-text">üèñÔ∏è Beachfront Hotel (Miami Beach)</span>
                            <span class="poll-votes">0 votes</span>
                        </div>
                    </div>
                    <div class="poll-option" onclick="vote('venue', 1)">
                        <div class="poll-bar" style="width: 0%"></div>
                        <div class="poll-content">
                            <span class="poll-text">üé≠ Art Deco Ballroom (South Beach)</span>
                            <span class="poll-votes">0 votes</span>
                        </div>
                    </div>
                    <div class="poll-option" onclick="vote('venue', 2)">
                        <div class="poll-bar" style="width: 0%"></div>
                        <div class="poll-content">
                            <span class="poll-text">‚õµ Waterfront Yacht Club</span>
                            <span class="poll-votes">0 votes</span>
                        </div>
                    </div>
                    <div class="poll-option" onclick="vote('venue', 3)">
                        <div class="poll-bar" style="width: 0%"></div>
                        <div class="poll-content">
                            <span class="poll-text">üå¥ Tropical Garden Venue</span>
                            <span class="poll-votes">0 votes</span>
                        </div>
                    </div>
                </div>

                <h3 style="color: #dc143c; margin: 30px 0 15px 0;"><i class="fas fa-music"></i> Music Preference</h3>
                <div class="poll-container" id="poll-music">
                    <div class="poll-option" onclick="vote('music', 0)">
                        <div class="poll-bar" style="width: 0%"></div>
                        <div class="poll-content">
                            <span class="poll-text">üé∏ 90s Hits Only (Pure Nostalgia)</span>
                            <span class="poll-votes">0 votes</span>
                        </div>
                    </div>
                    <div class="poll-option" onclick="vote('music', 1)">
                        <div class="poll-bar" style="width: 0%"></div>
                        <div class="poll-content">
                            <span class="poll-text">üéµ Mix of 90s & Current Hits</span>
                            <span class="poll-votes">0 votes</span>
                        </div>
                    </div>
                    <div class="poll-option" onclick="vote('music', 2)">
                        <div class="poll-bar" style="width: 0%"></div>
                        <div class="poll-content">
                            <span class="poll-text">üé§ Live Band (90s Covers)</span>
                            <span class="poll-votes">0 votes</span>
                        </div>
                    </div>
                </div>

                <h3 style="color: #dc143c; margin: 30px 0 15px 0;"><i class="fas fa-calendar"></i> Preferred Day</h3>
                <div class="poll-container" id="poll-day">
                    <div class="poll-option" onclick="vote('day', 0)">
                        <div class="poll-bar" style="width: 0%"></div>
                        <div class="poll-content">
                            <span class="poll-text">üìÖ Friday Night</span>
                            <span class="poll-votes">0 votes</span>
                        </div>
                    </div>
                    <div class="poll-option" onclick="vote('day', 1)">
                        <div class="poll-bar" style="width: 0%"></div>
                        <div class="poll-content">
                            <span class="poll-text">üéâ Saturday Night</span>
                            <span class="poll-votes">0 votes</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NOSTALGIA TAB -->
        <div id="nostalgia-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-clock"></i> Class of '96 Nostalgia</h2>
                
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-year">üéì 1996 - Graduation Year</div>
                        <div class="timeline-content">
                            <strong>Billboard #1 Song:</strong> "Macarena" by Los Del Rio<br>
                            <strong>Top Movies:</strong> Independence Day, Twister, Mission: Impossible<br>
                            <strong>World Events:</strong> Olympics in Atlanta, Dolly the sheep cloned<br>
                            <strong>Tech:</strong> Nintendo 64 released, DVD invented<br>
                            <strong>Fashion:</strong> Baggy jeans, chokers, platform shoes, butterfly clips
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">üì∫ What We Watched</div>
                        <div class="timeline-content">
                            Friends ‚Ä¢ Seinfeld ‚Ä¢ The X-Files ‚Ä¢ ER ‚Ä¢ Fresh Prince ‚Ä¢ Beverly Hills 90210 ‚Ä¢ 
                            Dawson's Creek (premiered) ‚Ä¢ Buffy the Vampire Slayer ‚Ä¢ 
                            Sister, Sister ‚Ä¢ Martin ‚Ä¢ The Simpsons ‚Ä¢ MTV's The Real World
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">üéµ Our Soundtrack</div>
                        <div class="timeline-content">
                            Spice Girls - "Wannabe" ‚Ä¢ Alanis Morissette - "Ironic" ‚Ä¢ 
                            Fugees - "Killing Me Softly" ‚Ä¢ Bone Thugs-N-Harmony - "Tha Crossroads" ‚Ä¢ 
                            No Doubt - "Don't Speak" ‚Ä¢ 2Pac - "California Love" ‚Ä¢ 
                            Celine Dion - "Because You Loved Me" ‚Ä¢ Everything But The Girl - "Missing" ‚Ä¢
                            Tracy Chapman - "Give Me One Reason" ‚Ä¢ Toni Braxton - "Un-Break My Heart"
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">üéÆ What We Played</div>
                        <div class="timeline-content">
                            Nintendo 64 (Super Mario 64!) ‚Ä¢ PlayStation (Crash Bandicoot, Resident Evil) ‚Ä¢ 
                            Tamagotchi virtual pets ‚Ä¢ Pok√©mon Red/Blue (Japan) ‚Ä¢ 
                            Game Boy Pocket ‚Ä¢ Diablo ‚Ä¢ Duke Nukem 3D ‚Ä¢ Quake ‚Ä¢ Tomb Raider
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">üíª Tech We Used</div>
                        <div class="timeline-content">
                            Dial-up Internet (AOL 3.0!) ‚Ä¢ Pagers/Beepers ‚Ä¢ "You've Got Mail!" ‚Ä¢ 
                            Yahoo! launched ‚Ä¢ Hotmail started ‚Ä¢ ICQ messaging ‚Ä¢ 
                            First camera phones (Japan) ‚Ä¢ Palm Pilot PDAs ‚Ä¢ 
                            CD-ROMs were cutting edge ‚Ä¢ Floppy disks everywhere
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">üçî Where We Hung Out</div>
                        <div class="timeline-content">
                            Blockbuster Video ‚Ä¢ The Mall ‚Ä¢ Arcade ‚Ä¢ Lincoln Road ‚Ä¢ 
                            South Beach ‚Ä¢ Bayside Marketplace ‚Ä¢ Local Diner ‚Ä¢ 
                            Someone's house (whose parents weren't home) ‚Ä¢ 
                            Parking lots (just... hanging out) ‚Ä¢ The Beach at night
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">üåä Hi-Tide Memories</div>
                        <div class="timeline-content">
                            Spirit Week paint-offs ‚Ä¢ Pep rallies ‚Ä¢ Friday night football games ‚Ä¢ 
                            Homecoming dances ‚Ä¢ Senior skip day ‚Ä¢ Prom night ‚Ä¢ 
                            Lunch on the benches ‚Ä¢ The senior courtyard ‚Ä¢ 
                            Graduation ceremony ‚Ä¢ "Let us be known for our deeds"
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-year">üì± Then vs Now</div>
                        <div class="timeline-content">
                            <strong>1996:</strong> Calling your crush's house phone and hoping their parents don't answer<br>
                            <strong>2026:</strong> Sliding into DMs<br><br>
                            <strong>1996:</strong> Making mix tapes on cassettes<br>
                            <strong>2026:</strong> Spotify playlists<br><br>
                            <strong>1996:</strong> "BRB, someone's calling on the house phone"<br>
                            <strong>2026:</strong> Always connected<br><br>
                            <strong>1996:</strong> MapQuest printouts<br>
                            <strong>2026:</strong> "Hey Siri, navigate home"
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <h3 style="margin-bottom: 15px;">Miami Beach Senior High School</h3>
        <p style="font-size: 1.2em; margin: 10px 0;">Class of 1996 - 30th Reunion</p>
        <p style="font-size: 1.5em; margin: 15px 0;">Hi-Tide Pride Since 1926 üåä</p>
        <div class="footer-links">
            <a href="#"><i class="fab fa-facebook"></i> Facebook Group</a>
            <a href="#"><i class="fab fa-instagram"></i> Instagram</a>
            <a href="mailto:mbsh96reunion@gmail.com"><i class="fas fa-envelope"></i> Email Us</a>
        </div>
        <p style="margin-top: 20px; font-size: 0.9em;">
            ¬© 2025 MBSH Class of '96 Reunion Committee ‚Ä¢ Let us be known for our deeds!
        </p>
    </footer>

    <script>
        // =====================================================
        // CONFIGURATION - UPDATE THESE VALUES
        // =====================================================
        
        // STEP 1: Replace with your Google Apps Script Web App URL
        const GOOGLE_SCRIPT_URL = 'PASTE_YOUR_GOOGLE_APPS_SCRIPT_URL_HERE';
        
        // Set to true once Google Script is configured
        const GOOGLE_SHEETS_ENABLED = false;
        
        // =====================================================
        // DATA MANAGEMENT
        // =====================================================
        
        let rsvps = [];
        let memories = [];
        let polls = {
            venue: [0, 0, 0, 0],
            music: [0, 0, 0],
            day: [0, 0]
        };
        let userVotes = JSON.parse(localStorage.getItem('mbsh96votes')) || {};

        // Load data from localStorage as fallback
        if (!GOOGLE_SHEETS_ENABLED) {
            rsvps = JSON.parse(localStorage.getItem('mbsh96rsvps')) || [];
            memories = JSON.parse(localStorage.getItem('mbsh96memories')) || [];
            polls = JSON.parse(localStorage.getItem('mbsh96polls')) || polls;
        }

        // =====================================================
        // COUNTDOWN TIMER
        // =====================================================
        
        function updateCountdown() {
            const reunionDate = new Date('2026-07-12T19:00:00').getTime();
            const now = new Date().getTime();
            const distance = reunionDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = String(days).padStart(3, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();

        // =====================================================
        // TAB NAVIGATION
        // =====================================================
        
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));

            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(nav => nav.classList.remove('active'));

            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.closest('.nav-tab').classList.add('active');
        }

        // =====================================================
        // GOOGLE SHEETS INTEGRATION
        // =====================================================
        
        async function sendToGoogleSheets(data, sheetName) {
            if (!GOOGLE_SHEETS_ENABLED || !GOOGLE_SCRIPT_URL || GOOGLE_SCRIPT_URL === 'PASTE_YOUR_GOOGLE_APPS_SCRIPT_URL_HERE') {
                console.log('Google Sheets disabled, saving to localStorage');
                return saveToLocalStorage(data, sheetName);
            }

            try {
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        sheet: sheetName,
                        data: data
                    })
                });

                // With no-cors mode, we can't check response status
                // So we assume success and also save to localStorage as backup
                saveToLocalStorage(data, sheetName);
                return true;
            } catch (error) {
                console.error('Error sending to Google Sheets:', error);
                // Fallback to localStorage
                return saveToLocalStorage(data, sheetName);
            }
        }

        function saveToLocalStorage(data, type) {
            if (type === 'RSVPs') {
                rsvps.push(data);
                localStorage.setItem('mbsh96rsvps', JSON.stringify(rsvps));
            } else if (type === 'Memories') {
                memories.push(data);
                localStorage.setItem('mbsh96memories', JSON.stringify(memories));
            }
            return true;
        }

        async function loadFromGoogleSheets() {
            if (!GOOGLE_SHEETS_ENABLED || !GOOGLE_SCRIPT_URL) {
                updateAllDisplays();
                return;
            }

            try {
                const response = await fetch(GOOGLE_SCRIPT_URL + '?action=load');
                const data = await response.json();
                
                if (data.rsvps) rsvps = data.rsvps;
                if (data.memories) memories = data.memories;
                if (data.polls) polls = data.polls;
                
                updateAllDisplays();
            } catch (error) {
                console.error('Error loading from Google Sheets:', error);
                updateAllDisplays();
            }
        }

        // =====================================================
        // DISPLAY UPDATES
        // =====================================================
        
        function updateAllDisplays() {
            updateStats();
            updateAttendeeList();
            updateClassmateGrid();
            updateMemoryWall();
            updatePolls();
        }

        function updateStats() {
            const yesCount = rsvps.filter(r => r.attending === 'yes').length;
            const totalGuests = rsvps.filter(r => r.attending === 'yes')
                .reduce((sum, r) => sum + (parseInt(r.guests) || 1), 0);

            document.getElementById('attendeeCount').textContent = yesCount;
            document.getElementById('guestCount').textContent = totalGuests;
            document.getElementById('memoryCount').textContent = memories.length;
        }

        function updateAttendeeList() {
            const attendeeList = document.getElementById('attendeeList');
            const yesRsvps = rsvps.filter(r => r.attending === 'yes');

            if (yesRsvps.length === 0) {
                attendeeList.innerHTML = '<p style="text-align: center; color: #999; font-style: italic;">Be the first to RSVP!</p>';
                return;
            }

            let html = '';
            yesRsvps.forEach(rsvp => {
                html += `
                    <div class="attendee-item">
                        <strong><i class="fas fa-user"></i> ${rsvp.firstName} ${rsvp.lastName}</strong>
                        ${rsvp.guests > 1 ? ` +${rsvp.guests - 1} guest${rsvp.guests > 2 ? 's' : ''}` : ''}
                        ${rsvp.guestNames ? ` (${rsvp.guestNames})` : ''}
                        ${rsvp.currentCity ? `<br><i class="fas fa-map-marker-alt"></i> ${rsvp.currentCity}` : ''}
                    </div>
                `;
            });

            attendeeList.innerHTML = html;
        }

        function updateClassmateGrid() {
            const grid = document.getElementById('classmateGrid');
            const yesRsvps = rsvps.filter(r => r.attending === 'yes');

            if (yesRsvps.length === 0) {
                grid.innerHTML = '<p style="text-align: center; color: #999; font-style: italic; grid-column: 1/-1;">RSVP to see who\'s registered!</p>';
                return;
            }

            let html = '';
            yesRsvps.forEach(rsvp => {
                html += `
                    <div class="classmate-card">
                        <div class="classmate-name">${rsvp.firstName} ${rsvp.lastName}</div>
                        ${rsvp.currentCity ? `<div class="classmate-info"><i class="fas fa-map-marker-alt"></i> ${rsvp.currentCity}</div>` : ''}
                        ${rsvp.profession ? `<div class="classmate-info"><i class="fas fa-briefcase"></i> ${rsvp.profession}</div>` : ''}
                        ${rsvp.email ? `<div class="classmate-info"><i class="fas fa-envelope"></i> ${rsvp.email}</div>` : ''}
                    </div>
                `;
            });

            grid.innerHTML = html;
        }

        function filterClassmates() {
            const searchTerm = document.getElementById('classmateSearch').value.toLowerCase();
            const cards = document.querySelectorAll('.classmate-card');

            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(searchTerm) ? 'block' : 'none';
            });
        }

        function updateMemoryWall() {
            const grid = document.getElementById('memoryGrid');

            if (memories.length === 0) {
                grid.innerHTML = `
                    <div class="memory-card">
                        <div class="memory-author">
                            <i class="fas fa-user-circle"></i>
                            <span>Be the first!</span>
                        </div>
                        <div class="memory-text">
                            Share your favorite Hi-Tide memory!
                        </div>
                    </div>
                `;
                return;
            }

            let html = '';
            memories.slice().reverse().forEach(memory => {
                const date = new Date(memory.timestamp);
                const timeAgo = getTimeAgo(date);
                
                html += `
                    <div class="memory-card">
                        <div class="memory-author">
                            <i class="fas fa-user-circle"></i>
                            <span>${memory.name}</span>
                        </div>
                        <div class="memory-text">"${memory.text}"</div>
                        <div class="memory-date">${timeAgo}</div>
                    </div>
                `;
            });

            grid.innerHTML = html;
        }

        function getTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            
            if (seconds < 60) return 'Just now';
            if (seconds < 3600) return Math.floor(seconds / 60) + ' minutes ago';
            if (seconds < 86400) return Math.floor(seconds / 3600) + ' hours ago';
            return Math.floor(seconds / 86400) + ' days ago';
        }

        // =====================================================
        // POLLS
        // =====================================================
        
        function updatePolls() {
            updatePollDisplay('venue', 4);
            updatePollDisplay('music', 3);
            updatePollDisplay('day', 2);
        }

        function updatePollDisplay(pollType, optionCount) {
            const container = document.getElementById('poll-' + pollType);
            const options = container.querySelectorAll('.poll-option');
            const votes = polls[pollType];
            const total = votes.reduce((a, b) => a + b, 0);

            options.forEach((option, index) => {
                const bar = option.querySelector('.poll-bar');
                const voteSpan = option.querySelector('.poll-votes');
                const percentage = total > 0 ? (votes[index] / total * 100) : 0;

                bar.style.width = percentage + '%';
                voteSpan.textContent = votes[index] + ' vote' + (votes[index] !== 1 ? 's' : '');

                if (userVotes[pollType] === index) {
                    option.classList.add('voted');
                }
            });
        }

        function vote(pollType, optionIndex) {
            if (userVotes[pollType] !== undefined) {
                alert('You\'ve already voted in this poll!');
                return;
            }

            polls[pollType][optionIndex]++;
            userVotes[pollType] = optionIndex;

            localStorage.setItem('mbsh96polls', JSON.stringify(polls));
            localStorage.setItem('mbsh96votes', JSON.stringify(userVotes));

            updatePolls();
        }

        // =====================================================
        // CONFETTI EFFECT
        // =====================================================
        
        function createConfetti() {
            const colors = ['#dc143c', '#ff4444', '#ffffff', '#ff6b6b'];
            const confettiCount = 50;

            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 3 + 's';
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                document.body.appendChild(confetti);

                setTimeout(() => confetti.remove(), 5000);
            }
        }

        // =====================================================
        // FORM HANDLERS
        // =====================================================
        
        document.getElementById('rsvpForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const submitBtn = document.getElementById('rsvpSubmitBtn');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="loading"></span> Submitting...';

            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                currentCity: document.getElementById('currentCity').value,
                profession: document.getElementById('profession').value,
                attending: document.getElementById('attending').value,
                guests: parseInt(document.getElementById('guests').value),
                guestNames: document.getElementById('guestNames').value,
                dietary: document.getElementById('dietary').value,
                volunteer: document.getElementById('volunteer').checked,
                comments: document.getElementById('comments').value,
                timestamp: new Date().toISOString()
            };

            try {
                await sendToGoogleSheets(formData, 'RSVPs');

                const successMsg = document.getElementById('successMessage');
                successMsg.style.display = 'block';
                createConfetti();

                this.reset();
                updateAllDisplays();

                successMsg.scrollIntoView({ behavior: 'smooth' });

                setTimeout(() => {
                    successMsg.style.display = 'none';
                }, 5000);
            } catch (error) {
                const errorMsg = document.getElementById('errorMessage');
                errorMsg.style.display = 'block';
                
                setTimeout(() => {
                    errorMsg.style.display = 'none';
                }, 5000);
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Submit RSVP üåä';
            }
        });

        document.getElementById('memoryForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const submitBtn = document.getElementById('memorySubmitBtn');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="loading"></span> Sharing...';

            const memoryData = {
                name: document.getElementById('memoryName').value,
                text: document.getElementById('memoryText').value,
                timestamp: new Date().toISOString()
            };

            try {
                await sendToGoogleSheets(memoryData, 'Memories');

                this.reset();
                updateMemoryWall();
                updateStats();

                alert('‚ú® Memory shared! Thanks for contributing to our story!');
            } catch (error) {
                alert('Oops! Something went wrong. Please try again.');
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-plus-circle"></i> Share Memory';
            }
        });

        // =====================================================
        // ADMIN FUNCTIONS
        // =====================================================
        
        window.viewAllRSVPs = function() {
            console.table(rsvps);
            return rsvps;
        };

        window.exportRSVPs = function() {
            const csv = [
                ['First Name', 'Last Name', 'Email', 'Phone', 'City', 'Profession', 'Attending', 'Guests', 'Guest Names', 'Dietary', 'Volunteer', 'Comments', 'Timestamp'],
                ...rsvps.map(r => [
                    r.firstName, r.lastName, r.email, r.phone, r.currentCity, r.profession,
                    r.attending, r.guests, r.guestNames, r.dietary, 
                    r.volunteer ? 'Yes' : 'No', r.comments, r.timestamp
                ])
            ].map(row => row.map(cell => `"${cell || ''}"`).join(',')).join('\n');

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mbsh96-rsvps.csv';
            a.click();
        };

        window.exportMemories = function() {
            const csv = [
                ['Name', 'Memory', 'Timestamp'],
                ...memories.map(m => [m.name, m.text, m.timestamp])
            ].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mbsh96-memories.csv';
            a.click();
        };

        window.viewPollResults = function() {
            console.log('Poll Results:', polls);
            return polls;
        };

        // =====================================================
        // INITIALIZATION
        // =====================================================
        
        if (GOOGLE_SHEETS_ENABLED) {
            loadFromGoogleSheets();
        } else {
            updateAllDisplays();
        }

        console.log('üåä MBSH Class of \'96 Reunion Site Loaded');
        console.log('Admin functions available: viewAllRSVPs(), exportRSVPs(), exportMemories(), viewPollResults()');
    </script>
</body>
</html>